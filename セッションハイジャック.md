# 脆弱性の概要
セッションIDを知る手段。
- 他の脆弱性や設定不備を利用してセッションIDを奪う  
  - クロスサイトスクリプティング(XSS)
- セッションIDを推測する
  - burpで複雑性の確認可能
- 通信を盗聴し、セッションIDを盗む
  - クライアントとサーバ間で通信が暗号化されていない時、パケットキャプチャで通信を盗聴し、セッションIDを奪う
  - URLにセッションIDがあった場合、次にアクセスしたサイトへrefererとかで漏洩する場合がある
- セッションを固定化する(セッション・フィクセーション)


### 対策
- 1.セッションIDを推測困難なものにする
- 2.セッションIDをURLパラメータに格納しない
  - セッションIDがURLパラメータに格納されている場合、ブラウザのReferer機能などによって攻撃者にセッションを知られてしまう可能性がある。セッションIDをパラメータに格納する場合は、URLパラメータではなく、CookieやPOSTメソッドのhiddenパラメータに格納する。
- 3.HTTPS通信で利用するCookieにはsecure属性を加える
  - secure属性を設定してHTTPS通信でのみCookieを使用するようにする。
- 4.ログイン成功後に新しくセッションを開始する
  - ログイン前のセッションIDとログイン後のセッションIDを別にする
- ログイン成功後に、既存のセッション ID とは別に秘密情報を発行し、ページの遷移ごとにその値を確認する
  - セッションIDとは別に秘密情報を作成し、セッションIDと秘密情報の値が一致することで正規の利用者である確認する。 この対策を行う場合はすべてのページでセッションIDと秘密情報の値が一致することを確認する必要がある。 対策4.を実施している場合は、本対策は不要。 


```py
print("test")
```
